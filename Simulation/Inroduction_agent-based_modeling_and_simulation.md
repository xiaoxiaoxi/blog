# 基于智能体的建模和仿真简介 （Introducing agent-based modeling and simulation）

> Simon JE Taylor, Brunel University, UK

## 1. 建模与仿真 Modeling & Simulation
事故和急诊（A&E）服务（或急诊室）的经理有个问题。
她所在的候诊室里总是挤满了等待工作人员的候诊病人。
患者到达后，由接待员办理登记手续，然后等候到护士对他们进行检查。
如果该病人具有明显的痛苦（问题），那么一旦有护士在场，
病人就会被发现。护士将记录他们的医疗细节，与医生讨论，
然后采取一系列可能的行动来治疗患者或将其转诊到另一个部门。
经理想知道如何减少候诊的患者数量？她应该雇用更多的护士吗？医生供不应求吗？
护士是否在等待其他科室的信息？其他到达安排呢—— 接待团队是否应该具备临床技能
来更早地评估患者的需求？
建模与仿真（M&S）工具使A&E经理能够为其系统创建一个可验证且有效的计算机模型，
并在不同的实验条件下对其进行模拟，以了解导致等待时间过长的原因以及缓解等待时间的不同策略的可能影响。

M&S从数学、运筹学、计算机科学、统计学、物理学和工程学等学科中汲取灵感，
并封装了广泛的方法和技术，能够在广泛的应用领域进行调查和分析，
如生物学、商业、国防、医疗保健、物流、制造、服务、供应链和运输。
虽然M&S的根源可以说可以追溯到1777年布冯的针实验中最初的蒙特卡洛方法
（1812年由拉普拉斯纠正 - 该实验通常被称为布冯-拉普拉斯针问题），
但第二次世界大战期间模拟和计算机技术的进步为现代M&S奠定了基础
（Goldsman， Nance 和 Wilson，2010 年）。
在 1950 年代，这些技术和技术被应用于工业系统的研究。
这些工作产生了两种关键的仿真技术：离散事件仿真（DES）和系统动力学（SD）。

> {这部分纯机翻}
> 
> 这两种技术的基础是我们如何表示系统以及它如何随时间变化。
> K.D. Tocher 在 DES 的早期工作（Tocher，1960 年;Tocher 1963 年;Hollocks，2008）
> 认识到如何将系统建模为组织成活动的一组瞬时状态变化（事件）。每个活动都有一个开始事件和一个结束事件。
> 实体通过模拟，参与各种活动的相互依赖循环（例如，零件通过一组加工活动）。
> 这些周期的早期表示被称为轮图或活动周期图。今天，一些商业DES软件仍然呼应Tocher的工作，
> 并允许建模者将系统表示为队列和活动网络（有时称为队列网络模型或流程模型）。
> Law（2014）和Robinson（2014）是那些想要了解更多关于这种技术的人的好教科书。
> Forrester独立地引入了一种不同的方法来分析工业系统，将系统视为由周期性相互依赖的子系统或因果循环组成，
> 并创建了SD模拟的基础（Forrester，1961）。SD 可以不是队列和活动网络，
> 而是将系统表示为因果循环图中的一组因果循环，该图描述了系统组件如何交互（以及重要的反馈）。
> 使用库存和流量可以量化和模拟SD模型。股票是一个实体，当它通过定义变化率的流时，
> 它可以增加或减少数量。有关SD的更多细节，请参阅Sterman （2000）。
> DES 和 SD 都受到许多软件工具和语言的支持
> （最新的指示性软件列表可以在 Wikipedia
> http://en.wikipedia.org/wiki/List_of_discrete_event_simulation_software 和 
> http://en.wikipedia.org/wiki/List_of_system_dynamics_software 上找到）。
> Jahangirian等人（2009）回顾了一系列学科的M&S，Taylor等人（2009）介绍了M&S的出版趋势。
> Nance and Sargent （2002）、Robinson （2005）、Hollocks （2006）、Forrester （2007） 
> 和 Richardson （2011） 对 M&S 的历史方面进行了回顾和反思。

DES 和 SD 是两种强大的技术，可用于对各种系统进行建模和仿真。
然而，在复杂的自适应系统中，系统的行为从大量实体的交互中“出现”，
这些技术可能难以使用。正如本《手术室要点》中的论文集所见，
基于智能体的建模和仿真（ABMS）是第三种主要的M&S技术，
在1980年代后期开始发展，原因是需要方便地研究复杂的自适应系统。
下一节将介绍其关键概念。

## 2. 基于智能体的建模与仿真 Agent-based modeling and simulation

对 ABMS 的最佳介绍之一是 Macal 和 North 的教程（Macal and North 2010;本集合中的第 2 章），
本节使用它们的定义来概述 ABMS。他们介绍ABMS植根于复杂系统的研究（Waldrop，1993;Flake， 2000）、
复杂适应系统（Holland， 1992;Lansing，2003）和人造生命（Langton，1995）。
因此，可以说，ABMS已经发展成为对复杂系统建模需求的“自然”响应。
对这门学科感兴趣的学生应该始终对哪些建模技术可用于研究系统保持开放的心态。
正如本系列中将看到的，ABMS允许以比其他M&S技术更合理和更易于理解的方式表示某些系统。
在DES中，我们关注的是实体如何通过队列和活动网络，在SD中，我们关注的是股票（实体）、它们的流动和相互依赖性，
而在ABMS中，我们关注的是智能体以及它们与彼此之间的关系以及它们的环境。
例如，在开始介绍的场景中，A&E单元可以用所有三种技术来表示。
然而，大多数A&E单位的排队网络结构更容易映射到DES。A&E 单位的 DES 可用于调查适当的人员配备水平，
以减少患者等待时间。然后，可以使用可持续发展模型来研究东道医院内部的关系，以提供与医院其他部门相关的人员配备水平，
因为这些人员配备水平可以适当地表示为库存和流量。正如将要看到的，可以说ABMS在这两种M&S场景中更难使用。
但是，如果我们想研究救护车服务的响应时间，其中救护车行为的正确表示以及服务环境的影响，
那么ABMS使我们能够方便地对这些元素进行建模和模拟。
为了平衡起见，以下文献说明了如何将 DES 和 SD 应用于相同的设置。
Eatock等人（2011）使用DES，Lane，Monefeldt和Rosenhead（2000）使用SD，
Laskowski和Shamir（2009）使用ABMS对A&E单元进行建模。
Gunal 和 Pidd （2011） 使用 DES，Harper （2002） 使用 SD 对更广泛的医院绩效进行建模;
Meng等人（2010年和本书第4章）使用ABMS研究全院感染管理。
随着分布式仿真和支持多范式建模的仿真软件的新进展，创建由 DES、SD 和 ABMS 组合组成的混合仿真变得越来越容易。
Swinerd 和 McNaught （2014） 讨论了使用 ABMS 和 SD 来模拟技术创新的扩散，
Djanatliev 等人 （2014） 研究了用于卫生技术评估的 ABMS 和 SD，
Anagnostou 等人 （2013） 展示了如何使用 ABMS 和 DES 来模拟紧急服务，
Viana 等人 （2014） 使用 DES 和 SD 来模拟感染传播。对于医疗保健模拟的进一步示例，
Brailsford等人（2009），Mustafee，Katsaliaki和Taylor（2010）以及Gunal和Pidd（2010）提供了对各种示例的回顾。
Taylor， et al （2012）， Taylor， et al （2013a）， Taylor， et al （2013b） and Taylor， 
et al （2013c） 讨论了 M&S 的当代重大挑战，并考虑了 ABMS 的未来。

什么是基于代理的模型？基于代理的模型通常有四个方面(特征)：

- 一组自主智能体 —— 每个智能体都有一组描述智能体状态的属性和一组指定行为（控制智能体行为的规则），
这些行为定义智能体如何响应其环境的变化，并可能实现一组目标或目的（例如， 在疏散场景中，
我们可能有兴趣了解人们如何离开建筑物，因此希望将个人建模为代理。它们的属性可能表示一个人移动的速度，
这个人在建筑物中的位置;他们的行为可能是他们用来沿着走廊移动的策略，他们可能有多困惑，等等;
他们的目标可能是他们想要的出口）。
- 一组代理（间的）关系 —— 每个关系定义每个代理如何与其他代理及其环境进行交互。
这也意味着每个智能体如何与其他智能体“连接”，即“连接性的基本拓扑”（例如，人们在试图离开建筑物时如何互动）。
- 智能体的环境——智能体存在的“世界”，即定义智能体如何对其环境做出反应所需的最小“全局”变量或结构集
（例如，火灾警报、学生正在穿过的建筑物、每个走廊的容量等）。
- 因此，“系统”由一组代理、环境及其关系组成。一个系统有一个明确定义的边界，
具有明确定义的输入和输出（如果适用）（例如，正在研究疏散的建筑物）。

基于智能体的模型是使用适当的编程语言、软件工具或工具包创建的，例如本 OR Essentials 文章中描述的那些。
这些工具通常通过重复执行智能体的行为和交互来模拟基于智能体的模型。例如，在我们的疏散模拟中，
每个学生代理都会描述他们对警报、其他学生和建筑物各个部分的反应。第一个模拟周期将模拟学生向出口的第一次移动
以及每个学生对其他学生的反应。随后的每个周期都将继续让学生在建筑物中取得进步。

什么时候适合使用ABMS而不是替代技术？关于这个问题有很多观点（例如，参见Brailsford （2014）;本集第 16 章）。
然而，决定何时使用ABMS方法往往与何时使用ABMS技术相混淆。
例如，在 2013 年冬季模拟会议 （Taylor， et al 2013c） 的 GC 小组之后，关于是否可以将通用 DES 包用于 
ABMS 而不是使用专门设计的 ABMS 工具包进行了相当热烈的讨论。这两种观点本质上是，根据软件包的不同，
DES软件包可以用于ABMS，但ABMS工具包专门支持基于代理的模拟，必须在DES软件包中重新创建。
两种观点的共同点是，两者都采用了ABMS方法，争论的焦点是使用哪种仿真软件。
如今，仿真软件已经非常先进，一些DES软件可以像ABMS一样运行。事实上，一些仿真包可以支持多建模，
并支持 ABMS、DES 和 SD。

本 OR Essentials 系列的论文将有助于理解 ABMS 的真正含义。
但是，下一节扩展了ABMS的上述每个元素，在决定使用ABMS时可能会考虑这些元素。

### 2.1 代理 Agents

智能体是自主的，是自我导向的，可以独立于其他智能体和环境运行。
智能体在自身、其他智能体及其环境之间有明确的边界。
它是一个清晰可识别的“个体”，是自成一体且唯一可识别的。
每个代理都可以通过其属性与其他代理区分开来。
这些属性构成代理的状态，通常是变量的集合。
基于智能体的模拟的状态是每个智能体的状态和环境的集合。
代理与其他代理及其环境交互并做出反应。代理通过该交互来做出决策。
智能体行为可以由简单的if-then-else规则集合，复杂的人工智能技术（神经网络，遗传程序，机器学习等）表示
（Russell和Norvig，1998），甚至使用子模型（反过来可能是其他形式的M&S）表示。
随着基于智能体的模拟的推进，智能体与自身、其他智能体和环境的交互会改变智能体的状态。
在基于智能体的模拟中，可能有几种不同类型或类别的智能体。

### 2.2 代理（间的）关系 Agent relationships

代理间关系或交互可以很简单，也可以非常复杂。存在模块化的一般原则，并且软件工程中存在的耦合和内聚等因素正在发挥作用。
例如，如果两种类型的代理具有极其复杂且紧密耦合的关系，并且它们的功能边界难以定义，
那么这两种类型的代理可能更好地概念化为单个代理。
必须明确指定代理关系，并且必须明确代理之间的边界。
这样做的原因是，智能体必须具有自主性——智能体必须能够根据自己的状态和环境做出决策。
并非所有代理都必须与所有其他代理进行交互。如果一个代理需要根据另一个代理的状态做出决策，
那么它必须与该代理交互才能发现它。代理之间的连接可以通过基于代理的模型的“拓扑”来描述，
即代理及其互连的逻辑或物理（或两者）映射。此拓扑可能会在仿真过程中更改。

### 2.3 代理（运行的）环境 Agent environment

环境是智能体与之交互的系统元素，它本身不被视为智能体，也就是说，
它是被动的和全局的（它不会主动断言行为，并且可能会影响所有智能体）。
它可能具有简单或复杂的边界，具体取决于正在建模的系统。

## 3 OR Essentials 概述：基于智能体的建模和模拟 Overview of OR Essentials: agent-based modeling and simulation

为了进一步介绍ABMS和相关关键问题，本期的OR要点系列汇集了一系列关于ABMS的介绍性以及高级研究文章。
本节概述了每篇收集的文章。这些文章分为四组。第一部分（第2章和第3章）讨论了当代ABMS系统及其演变。
第二部分（第4章、第13章）介绍了ABMS的不同应用，包括卫生、危机管理、商业、制造、金融和国防。
第三部分（第14章和第15章）涉及ABMS的方法和教学方面。
第四篇也是最后一篇（第16章）是一篇文章，反映了ABMS所声称的独特性。

第 2 章和第 3 章开始讨论 ABMS 及其开端。Macal 和 North 在他们的基于智能体的建模和仿真教程中介绍了
ABMS 作为研究复杂自适应系统及其动力学的一种方式。他们讨论了ABMS的主要概念和基础，
以及模拟智能体行为及其涌现属性和相互作用的方法。
还介绍了ABMS的应用、方法和工具包的实例。Heath 和 Hill 从计算机的科学发展、复杂性和系统思维以及元胞自动机、
复杂性、控制论和混沌的影响方面对 ABMS 的出现提出了看法。这两篇文章结合在一起，作为ABMS的当代观点，
与对这个迷人领域演变的历史见解相结合，非常引人入胜。

。。。。

## 4 Summary

使用ABMS研究复杂的自适应系统是当今M&S最引人入胜的方面之一。
本手术室要点中介绍的以下文章将向读者介绍广泛的ABMS理论观点、技术和应用领域。
要开始使用ABMS，读者可以考虑使用以下免费或市售的ABMS软件之一。
每个都有出色的支持材料，适合各种技术能力。

NETLOGO—http://ccl.northwestern.edu/netlogo/
REPAST—http://repast.sourceforge.net/
ANYLOGIC—http://www.anylogic.com/
