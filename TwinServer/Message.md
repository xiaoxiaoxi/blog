# 写在前面
Twin Server 消息的定义。
Twin Server Message 是往来于服务器和客户端之间的数据，可以通过socket或websocket进行传递，默认情况下是独立的一行是一个完整的消息， 目前消息总体设计还是采用明文形式，未来需要考虑支持加密。

目前twin server 传递的协议就是消息。

# 消息总体结构

一个消息由两部分构成
- 消息头
- 消息数据

## 消息头
消息头描述消息的基本信息包含如下内容：
> - pact：消息类型
> - id： 消息唯一标识
> - timestamp： 时间戳，发送消息的时间
> - sender： 发送消息者

## 消息内容
> data: 消息中的数据，会根据消息头中的 pact 进行解析，不同的类型由不同的内容

# 消息类型
目前消息包含如下类型：

## 客户端发送的消息类型
> - CLI_LOGIN, 客户端登录时提交消息
> - CLI_LOGOFF, 客户端登出消息
> - CLI_UPDATE, 客户端修改时提交消息

## 服务端发送消息
> - SRV_LOGIN, 服务端返回客户端登录消息
> - SRV_UPDATE, 服务端发送全局更新数据
> - SEV_SHUTDOWN， 服务器将要关闭的消息